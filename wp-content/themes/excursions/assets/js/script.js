const NavBlock=document.querySelector("#nav-block"),NavBlockTop=NavBlock.getBoundingClientRect().top+window.pageYOffset,Menu=document.querySelector("#menu"),NavMenu=document.querySelector(".nav-menu"),SocialSection=document.querySelector("#soc-section"),vkGroups=document.querySelector("#vk_groups"),fbRoot=document.querySelector("#fb-root");let NavMenuHeight,menuStateOpen=!1;const ymapsApiUrl="https://api-maps.yandex.ru/2.1/?lang=ru_RU",vkApiUrl="//vk.com/js/api/openapi.js?160",fbSdkUrl="https://connect.facebook.net/ru_RU/sdk.js#xfbml=1&version=v3.2&appId=330469164341166&autoLogAppEvents=1";function getScript(a){const b=new Promise((b,c)=>{const d=document.createElement("script");document.body.appendChild(d),d.onload=b,d.onerror=c,d.async=!0,d.src=a});return b}function registerListener(a,b,c=!0){c&&window.addEventListener(a,b)}function init(){const a=document.getElementById("soc-buttons");a&&(a.style.display="block")}function setNavMenu(){768>=window.screen.width&&(NavMenu.style.display="block",NavMenuHeight=NavMenu.getBoundingClientRect().height,NavMenu.style.height="0px")}function socialInit(){vkGroups&&getScript(vkApiUrl).then(()=>{VK.Widgets.Group("vk_groups",{mode:vkGroups.dataset.mode||3,width:vkGroups.dataset.width||300,height:vkGroups.dataset.height||300,no_cover:vkGroups.dataset.no_cover||0},vkGroups.dataset.id)}),fbRoot&&getScript(fbSdkUrl),(vkGroups||fbRoot)&&(SocialSection.style.display="block")}function resizeNavBlock(){768<window.screen.width&&NavBlock.classList.remove("fixed"),NavBlock.classList.remove("menu_state_open"),NavMenu.removeAttribute("style"),setNavMenu()}function scrollNavBlock(){if(768>=window.screen.width){const a=window.pageYOffset;NavBlock.classList.contains("fixable")&&a>NavBlockTop?NavBlock.classList.add("fixed"):NavBlock.classList.remove("fixed"),menuStateOpen&&(menuStateOpen=!1,NavBlock.classList.remove("menu_state_open"),NavMenu.style.height="0px")}}registerListener("load",init),registerListener("load",setNavMenu),registerListener("load",socialInit,SocialSection&&768<window.screen.width),registerListener("scroll",scrollNavBlock),registerListener("resize",resizeNavBlock),Menu.addEventListener("click",()=>{menuStateOpen=!menuStateOpen,menuStateOpen?(NavBlock.classList.add("menu_state_open"),NavMenu.style.height=`${NavMenuHeight}px`):(NavBlock.classList.remove("menu_state_open"),NavMenu.style.height="0px")}),$(document).ready(()=>{$(".carousel").length&&$(".carousel").slick({arrows:!1,dots:!0,autoplay:768<window.screen.width,autoplaySpeed:5e3,lazyLoad:"ondemand"})});